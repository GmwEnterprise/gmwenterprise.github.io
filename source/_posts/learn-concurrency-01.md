---
title: 学习Java并发（01）基本概念
date: 2019-12-31 11:33:06
categories: 并发
tags:
  - java
  - concurrency
---
## 前言

在工作中时常接触到并发环境，只是现有的框架已经在底层封装好了，可以直接调用。但总会有一些奇特的场景需要自己手动实现并发，所以了解原理是很重要的。本文用于记录学习并发过程中重要的点或思考。

## 什么是并发

系统在同一时间段可同时处理多个任务，而同一时刻只有一个任务处于运行状态。

与*并行*的区别：并行是指同一时刻可以同时运行多个任务。现代多核处理器都支持并行运算。并发强调系统支持多个任务同一时刻存在；并行强调系统支持多个任务同时运行。

## CPU核心数

可以理解为多处理器，双核CPU从程序的角度来看就等于可共享资源的两个单核处理器。对于单核处理器而言，任一时刻只能处理一个任务；然而多核处理器可以在同一时刻同时处理多个任务。由于现在的CPU基本都支持所谓的*超线程*，使得一个物理核心可以逻辑上实现两个任务的同时运行（比如Intel的i5处理器通常都是4核8线程，6核12线程），所以程序角度来看一个核心，系统在同一时刻可以同时运行的任务数为：CPU超线程数 * CPU个数。

## 进程与线程

### 基本概念

> 进程（Process）是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础，同时也是线程的容器。
> 
> 线程（Thread）是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。

一个操作系统拥有多个进程，一个进程拥有至少一个线程。一个程序拥有一个或多个进程，通常应用为一个进程，但诸如Chrome、Firefox等应用也会拥有多个进程。一般而言进程之间无法共享资源，因为进程拥有独立的内存空间、资源分配等；但线程可以，所以多线程应用最大的问题就在于如何规避资源被多个线程同时访问。

### CPU如何调度